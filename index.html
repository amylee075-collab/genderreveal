<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>í°ë‘¥ì´ì˜ ì„±ë³„ì€ ë¬´ì—‡ì¼ê¹Œìš”ğŸ’</title>

  <!-- âœ… Open Graph (ì¹´í†¡/ë…¸ì…˜ ë“±) -->
  <meta property="og:title" content="í°ë‘¥ì´ ì„±ë³„ ê³µê°œ ğŸ’«" />
  <meta property="og:description" content="í°ë‘¥ì´ì˜ ì„±ë³„ì„ ê³µê°œí•©ë‹ˆë‹¤!" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://amylee075-collab.github.io/genderreveal/" />
  <meta property="og:image" content="https://amylee075-collab.github.io/genderreveal/share.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <style>
    :root{
      --bg: #FFF7D6;
      --bg2:#FFEFB3;
      --card: rgba(255,255,255,0.70);
      --card2: rgba(255,247,214,0.70);
      --text: rgba(25,26,28,0.92);
      --muted: rgba(25,26,28,0.62);
      --radius: 18px;
      --shadow: 0 4px 20px rgba(0,0,0,0.08);
      --accent: rgba(255,105,200,1);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, system-ui, sans-serif;
      color: var(--text);
      background: linear-gradient(135deg, var(--bg) 0%, var(--bg2) 100%);
      overflow-x:hidden;
    }

    .page{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      text-align:center;
    }

    .wrap{
      width:100%;
      max-width:480px;
    }

    .header{ margin-bottom:32px; }
    .sparkle{
      width:40px; height:40px;
      margin:0 auto 16px;
      display:grid; place-items:center;
      color: var(--accent);
      font-size: 34px;
    }
    h1{
      font-size:32px;
      font-weight:700;
      margin:0 0 8px;
    }
    .sub{
      margin:0;
      font-size:16px;
      color: var(--muted);
    }

    .card{
      background: var(--card);
      backdrop-filter: blur(20px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:32px;
      margin-bottom:24px;
    }

    /* Parents */
    .parents{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:24px;
      margin-bottom:32px;
      flex-wrap:wrap;
    }
    .person{
      text-align:center;
      min-width: 160px;
    }

    .avatar{
      width:120px !important;
      height:120px !important;
      border-radius:50%;
      overflow:hidden;
      border:4px solid #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.10);
      margin:0 auto 8px;
      background: rgba(255,255,255,0.7);
    }
    .avatar img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .role{
      font-size:14px;
      color: var(--muted);
      margin:0 0 4px;
    }
    .name{
      font-size:16px;
      font-weight:600;
      margin:0;
    }

    .heart{
      width:36px;
      height:36px;
      display:grid;
      place-items:center;
      font-size:28px;
      color: var(--accent);
      animation: pulse 1.5s ease-in-out infinite;
      user-select:none;
    }
    @keyframes pulse{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.18); }
    }

    /* Ultrasound */
    .ultra-wrap{
      border-radius:12px;
      overflow:hidden;
      margin-bottom:24px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      position: relative;
    }

    .ultra{
      width:100%;
      display:block;
      object-fit:cover;
    }

    .ultra-label{
      position: absolute;
      left: 50%;
      bottom: 14px;
      transform: translateX(-50%);
      padding: 8px 14px;
      border-radius: 999px;
      background: rgba(0,0,0,0.45);
      color: #fff;
      font-weight: 900;
      font-size: 16px;
      z-index: 2;
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,0.25);
    }

    /* Due box (ì—°ë…¸ë‘ ë°•ìŠ¤) */
    .due{
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 12px;
      padding: 16px 18px;
      background: rgba(255, 239, 179, 0.85);
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
      margin-bottom: 24px;
    }

    .due p{ margin:0; }

    .cal{
      width: 28px;
      height: 28px;
      border-radius: 8px;
      background: rgba(255,255,255,0.65);
      border: 1px solid rgba(0,0,0,0.06);
      display: grid;
      place-items: center;
      font-size: 16px;
    }

    .due-txt{ text-align:center; }

    .due .k{
      font-size: 13px;
      color: var(--muted);
      font-weight: 800;
      margin-bottom: 2px;
    }

    .due .v{
      font-size: 16px;
      font-weight: 900;
    }

    .dday{
      margin-left: 6px;
      color: var(--muted);
      font-size: 14px;
      font-weight: 800;
    }

    /* Buttons */
    .btn{
      width:100%;
      padding:18px;
      border:none;
      border-radius:12px;
      font-size:18px;
      font-weight:700;
      cursor:pointer;
      color:#fff;
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
      transition: transform 0.15s ease;
      background: linear-gradient(135deg, var(--accent), rgba(90,160,255,1));
    }
    .btn:active{ transform: scale(0.98); }

    .footer{
      font-size:14px;
      color: var(--muted);
      margin:0;
      text-align:center;
    }

    /* Wait state */
    .wait{ padding:24px 0 6px; }
    .party{
      font-size:48px;
      margin-bottom:16px;
      animation: wiggle 0.5s ease-in-out infinite;
      display:inline-block;
    }
    @keyframes wiggle{
      0%{ transform: rotate(0deg); }
      25%{ transform: rotate(10deg); }
      50%{ transform: rotate(-10deg); }
      75%{ transform: rotate(10deg); }
      100%{ transform: rotate(0deg); }
    }
    .wait-text{
      font-size:20px;
      font-weight:600;
      color: var(--accent);
      margin:0;
    }

    /* Modal */
    .overlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(8px);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:10000;
      padding:24px;
    }
    .overlay.show{ display:flex; }

    .modal{
      background:#fff;
      border-radius:24px;
      padding:40px;
      width:min(400px, 100%);
      text-align:center;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      transform: translateY(20px) scale(0.98);
      opacity:0;
      animation: pop 420ms ease forwards;
    }
    @keyframes pop{
      to{ transform: translateY(0) scale(1); opacity:1; }
    }

    .p1{
      font-size:24px;
      font-weight:600;
      margin:0 0 8px;
    }
    .p2{
      font-size:36px;
      font-weight:700;
      margin:0 0 24px;
      color: var(--accent);
    }
    .note{
      padding:20px;
      border-radius:12px;
      background: rgba(0,0,0,0.04);
      margin-bottom:24px;
      line-height:1.6;
      font-size:16px;
    }
    .close{
      padding:14px 32px;
      border:none;
      border-radius:12px;
      background: var(--accent);
      color:#fff;
      font-size:16px;
      font-weight:600;
      cursor:pointer;
      box-shadow: 0 4px 16px rgba(0,0,0,0.12);
    }

    /* Confetti */
    .confetti-piece{
      position: fixed;
      top: -12px;
      width: 12px;
      height: 12px;
      border-radius: 2px;
      opacity: 0.9;
      pointer-events: none;
      z-index: 20000;
      background: var(--c);
      animation: fall var(--dur) linear forwards;
      transform: translateX(var(--x)) rotate(var(--r));
      left: var(--left);
    }
    @keyframes fall{
      to{
        transform: translateX(var(--x)) translateY(110vh) rotate(calc(var(--r) + 360deg));
      }
    }

    @media (prefers-reduced-motion: reduce){
      .heart, .party, .modal, .confetti-piece { animation: none !important; }
    }

    @media (max-width: 420px){
      .parents{ flex-wrap: nowrap; gap: 12px; }
      .person{ min-width: 0; flex: 1; }
      .avatar{ width: 88px !important; height: 88px !important; border-width: 3px; }
      .heart{ width: 28px; height: 28px; font-size: 22px; }
    }
  </style>
</head>

<body>
  <div class="page">
    <div class="wrap">
      <div class="header">
        <div class="sparkle">âœ¨</div>
        <h1 id="titleText">í°ë‘¥ì´ì˜ ì„±ë³„ì€?</h1>
        <p class="sub">ìš°ë¦¬ ê°€ì¡±ì—ê²Œ ê³§ ì°¾ì•„ì˜¬ ì•„ê¸° ì²œì‚¬</p>
      </div>

      <div class="card" id="mainCard">
        <div class="parents">
          <div class="person">
            <div class="avatar"><img id="momAvatar" src="./mom.jpg" alt="ì—„ë§ˆ" /></div>
            <p class="role">ì—„ë§ˆ</p>
            <p class="name" id="momName">ìˆ˜ì •</p>
          </div>

          <div class="heart">ğŸ’—</div>

          <div class="person">
            <div class="avatar"><img id="dadAvatar" src="./dad.jpg" alt="ì•„ë¹ " /></div>
            <p class="role">ì•„ë¹ </p>
            <p class="name" id="dadName">ì¤€í˜</p>
          </div>
        </div>

        <div class="ultra-wrap">
          <div class="ultra-label" id="ultraLabel">í°ë‘¥ì´</div>
          <img id="ultraImg" class="ultra" src="./ultrasound.jpg" alt="ì´ˆìŒíŒŒ ì‚¬ì§„" />
        </div>

        <div class="due">
          <div class="cal">ğŸ—“ï¸</div>
          <div class="due-txt">
            <p class="k">ì¶œì‚° ì˜ˆì •ì¼</p>
            <p class="v">
              <span id="dueText"></span>
              <span class="dday" id="ddayText"></span>
            </p>
          </div>
        </div>

        <button class="btn" id="revealBtn">âœ¨ ì„±ë³„ ê³µê°œ âœ¨</button>

        <div class="wait" id="waitBox" style="display:none;">
          <div class="party">ğŸ‰</div>
          <p class="wait-text">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
        </div>
      </div><!-- âœ… card ë‹«í˜ -->

      <p class="footer" id="footerText">Made by ìˆ˜ì •ğŸ’</p>
    </div><!-- âœ… wrap ë‹«í˜ -->
  </div><!-- âœ… page ë‹«í˜ -->

  <!-- Modal (âœ… card ë°–ìœ¼ë¡œ ì´ë™) -->
  <div class="overlay" id="overlay">
    <div class="modal" role="dialog" aria-modal="true">
      <p class="p1"><span id="babyNick">í°ë‘¥ì´</span>ëŠ”</p>
      <p class="p2" id="genderText">ì—¬ìì•„ì´ì—ìš”!ğŸ‰</p>

      <div class="note" id="noteText"></div>
      <button class="close" id="closeBtn">ë‹«ê¸°</button>
    </div>
  </div>

  <script>
    const CONFIG = {
      momName: "ìˆ˜ì •",
      dadName: "ì¤€í˜",
      babyNick: "í°ë‘¥ì´",
      dueDate: "2026-06-19",
      gender: "GIRL", // "GIRL" | "BOY"
      revealDelayMs: 700,

      ultrasoundSrc: "./ultrasound.jpg",
      momAvatarSrc: "./mom.jpg",
      dadAvatarSrc: "./dad.jpg",
    };

    function accentByGender(g){
      return (g === "GIRL") ? "rgba(255,105,200,1)" : "rgba(90,160,255,1)";
    }
    function paletteByGender(g){
      return (g === "GIRL")
        ? ["#ff5fb7", "#ff9bd6", "#ffd1ea", "#ffffff"]
        : ["#3f8cff", "#7ab7ff", "#cfe6ff", "#ffffff"];
    }

    const $ = (id) => document.getElementById(id);

    function formatDue(dateStr){
      const d = new Date(dateStr);
      return d.toLocaleDateString("ko-KR", { year:"numeric", month:"long", day:"numeric" });
    }
    function daysUntil(dateStr){
      const due = new Date(dateStr);
      const now = new Date();
      return Math.ceil((due.getTime() - now.getTime()) / (1000*60*60*24));
    }

    // ì´ˆê¸° ë Œë”
    document.documentElement.style.setProperty("--accent", accentByGender(CONFIG.gender));
    $("momName").textContent = CONFIG.momName;
    $("dadName").textContent = CONFIG.dadName;
    $("babyNick").textContent = CONFIG.babyNick;
    $("ultraLabel").textContent = CONFIG.babyNick;
    $("titleText").textContent = `${CONFIG.babyNick}ì˜ ì„±ë³„ì€?`;
    $("footerText").textContent = `Made by ${CONFIG.momName}ğŸ’`;

    $("ultraImg").src = CONFIG.ultrasoundSrc;
    $("momAvatar").src = CONFIG.momAvatarSrc;
    $("dadAvatar").src = CONFIG.dadAvatarSrc;

    const dueText = formatDue(CONFIG.dueDate);
    const dday = daysUntil(CONFIG.dueDate);
    $("dueText").textContent = dueText;
    $("ddayText").textContent = `(D-${dday})`;

    function makeConfetti(){
      const palette = paletteByGender(CONFIG.gender);
      const count = 60;
      for(let i=0;i<count;i++){
        const el = document.createElement("div");
        el.className = "confetti-piece";
        const left = Math.random()*100;
        const x = (Math.random()-0.5)*30;
        const r = Math.random()*360;
        const dur = 2.5 + Math.random()*2;
        const c = palette[Math.floor(Math.random()*palette.length)];
        el.style.setProperty("--left", left + "vw");
        el.style.setProperty("--x", x + "vw");
        el.style.setProperty("--r", r + "deg");
        el.style.setProperty("--dur", dur + "s");
        el.style.setProperty("--c", c);
        document.body.appendChild(el);
        el.addEventListener("animationend", () => el.remove());
      }
    }

    function openModal(){
      const isGirl = CONFIG.gender === "GIRL";
      $("genderText").textContent = isGirl ? "ì—¬ìì•„ì´ì—ìš”!ğŸ‰" : "ë‚¨ìì•„ì´ì—ìš”!ğŸ‰";
      $("noteText").innerHTML = `${formatDue(CONFIG.dueDate)}ì—<br/>ìš°ë¦¬ ê±´ê°•í•˜ê²Œ ë§Œë‚˜ìš” â¤ï¸`;
      $("overlay").classList.add("show");
    }

    function closeModal(){
      $("overlay").classList.remove("show");
      $("waitBox").style.display = "none";
      $("revealBtn").style.display = "block";
    }

    $("revealBtn").addEventListener("click", () => {
      $("revealBtn").style.display = "none";
      $("waitBox").style.display = "block";
      makeConfetti();
      setTimeout(openModal, CONFIG.revealDelayMs);
    });

    $("closeBtn").addEventListener("click", closeModal);
    $("overlay").addEventListener("click", (e) => {
      if(e.target === $("overlay")) closeModal();
    });
  </script>
</body>
</html>
